<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="252px" preserveAspectRatio="none" style="width:610px;height:252px;" version="1.1" viewBox="0 0 610 252" width="610px" zoomAndPan="magnify"><defs><filter height="300%" id="f198z54wvfpb3u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[93a39f56209b9ca58574756748e779dd]
class BuildingState--><rect fill="#FEFECE" filter="url(#f198z54wvfpb3u)" height="124.8281" id="BuildingState" style="stroke: #A80036; stroke-width: 1.5;" width="481" x="47.37" y="8"/><ellipse cx="242.12" cy="24" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M242.2294,19.3438 L241.0731,24.4219 L243.4013,24.4219 L242.2294,19.3438 Z M240.745,17.1094 L243.7294,17.1094 L247.0888,29.5 L244.6356,29.5 L243.87,26.4375 L240.5888,26.4375 L239.8388,29.5 L237.4013,29.5 L240.745,17.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="83" x="262.62" y="28.1543">BuildingState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="48.37" x2="527.37" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="48.37" x2="527.37" y1="48" y2="48"/><ellipse cx="58.37" cy="59" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="67.37" y="62.2104">BuildingState(gridManager:GridManager, gridData:GridData, itemData:ItemData)</text><ellipse cx="58.37" cy="71.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="67.37" y="75.0151">«virtual» HandleSelectionFinished() : void</text><ellipse cx="58.37" cy="84.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="392" x="67.37" y="87.8198">«virtual» HandleSelectionStarted(selectedMapPosition:Vector3) : void</text><ellipse cx="58.37" cy="97.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="246" x="67.37" y="100.6245">«virtual» HandleRotation(modifier:int) : void</text><ellipse cx="58.37" cy="110.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="400" x="67.37" y="113.4292">«virtual» HandleSelectionChanged(selectedMapPosition:Vector3) : void</text><ellipse cx="58.37" cy="123.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="67.37" y="126.2339">RefreshSelection() : void</text><!--MD5=[a11544de820a927b3dbade298cf8c341]
class Action`1--><rect fill="#FEFECE" filter="url(#f198z54wvfpb3u)" height="48" id="Action`1" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="159.87" y="193"/><ellipse cx="174.87" cy="209" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M177.8388,214.6406 Q177.2606,214.9375 176.62,215.0781 Q175.9794,215.2344 175.2763,215.2344 Q172.7763,215.2344 171.4481,213.5938 Q170.1356,211.9375 170.1356,208.8125 Q170.1356,205.6875 171.4481,204.0313 Q172.7763,202.375 175.2763,202.375 Q175.9794,202.375 176.62,202.5313 Q177.2763,202.6875 177.8388,202.9844 L177.8388,205.7031 Q177.2138,205.125 176.62,204.8594 Q176.0263,204.5781 175.4013,204.5781 Q174.0575,204.5781 173.37,205.6563 Q172.6825,206.7188 172.6825,208.8125 Q172.6825,210.9063 173.37,211.9844 Q174.0575,213.0469 175.4013,213.0469 Q176.0263,213.0469 176.62,212.7813 Q177.2138,212.5 177.8388,211.9219 L177.8388,214.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="188.87" y="213.1543">Action`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="249.87" y="190"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="250.87" y="202.1387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="160.87" x2="254.87" y1="225" y2="225"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="160.87" x2="254.87" y1="233" y2="233"/><!--MD5=[e9dcf1065f2d675ed598344b8e9d59e4]
class PlacementGridData--><rect fill="#FEFECE" filter="url(#f198z54wvfpb3u)" height="48" id="PlacementGridData" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="291.37" y="193"/><ellipse cx="306.37" cy="209" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M309.3388,214.6406 Q308.7606,214.9375 308.12,215.0781 Q307.4794,215.2344 306.7763,215.2344 Q304.2763,215.2344 302.9481,213.5938 Q301.6356,211.9375 301.6356,208.8125 Q301.6356,205.6875 302.9481,204.0313 Q304.2763,202.375 306.7763,202.375 Q307.4794,202.375 308.12,202.5313 Q308.7763,202.6875 309.3388,202.9844 L309.3388,205.7031 Q308.7138,205.125 308.12,204.8594 Q307.5263,204.5781 306.9013,204.5781 Q305.5575,204.5781 304.87,205.6563 Q304.1825,206.7188 304.1825,208.8125 Q304.1825,210.9063 304.87,211.9844 Q305.5575,213.0469 306.9013,213.0469 Q307.5263,213.0469 308.12,212.7813 Q308.7138,212.5 309.3388,211.9219 L309.3388,214.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="320.37" y="213.1543">PlacementGridData</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="292.37" x2="443.37" y1="225" y2="225"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="292.37" x2="443.37" y1="233" y2="233"/><!--MD5=[480c10e7a6d2379fe0249543e63a8342]
class SelectionData--><rect fill="#FEFECE" filter="url(#f198z54wvfpb3u)" height="48" id="SelectionData" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="479.87" y="193"/><ellipse cx="494.87" cy="209" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M497.8388,214.6406 Q497.2606,214.9375 496.62,215.0781 Q495.9794,215.2344 495.2763,215.2344 Q492.7763,215.2344 491.4481,213.5938 Q490.1356,211.9375 490.1356,208.8125 Q490.1356,205.6875 491.4481,204.0313 Q492.7763,202.375 495.2763,202.375 Q495.9794,202.375 496.62,202.5313 Q497.2763,202.6875 497.8388,202.9844 L497.8388,205.7031 Q497.2138,205.125 496.62,204.8594 Q496.0263,204.5781 495.4013,204.5781 Q494.0575,204.5781 493.37,205.6563 Q492.6825,206.7188 492.6825,208.8125 Q492.6825,210.9063 493.37,211.9844 Q494.0575,213.0469 495.4013,213.0469 Q496.0263,213.0469 496.62,212.7813 Q497.2138,212.5 497.8388,211.9219 L497.8388,214.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="508.87" y="213.1543">SelectionData</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="480.87" x2="598.87" y1="225" y2="225"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="480.87" x2="598.87" y1="233" y2="233"/><!--MD5=[a0ab854c4a2aa33ab392c0b9c7c7ac68]
link BuildingState to PlacementGridData--><path d="M322.03,133.2 C332.65,152.39 343.83,172.59 352.5,188.23 " fill="none" id="BuildingState-&gt;PlacementGridData" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="355.1,192.94,354.2258,183.13,352.6718,188.5692,347.2326,187.0152,355.1,192.94" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="253.6135" y="182.0744">CurrentPlacementData</text><!--MD5=[87e17867cfb0d065d722e2ee55064867]
link BuildingState to SelectionData--><path d="M395.47,133.2 C430.52,153.3 467.51,174.51 495.27,190.43 " fill="none" id="BuildingState-&gt;SelectionData" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="499.65,192.94,493.826,184.9977,495.3105,190.4562,489.852,191.9408,499.65,192.94" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="500.8749" y="181.9367">SelectionData</text><!--MD5=[be6b42b8b8e4a532332f3fb6530bed10]
link BuildingState to Action`1--><path d="M241.08,133.2 C230.01,152.39 219.61,172.59 212.94,188.23 " fill="none" id="BuildingState-&gt;Action`1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="211,192.94,218.1181,186.1332,212.8987,188.3145,210.7173,183.0952,211,192.94" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="-2.5417" y="181.9367">OnFinished&lt;SelectionResult&gt;</text><!--MD5=[be6b42b8b8e4a532332f3fb6530bed10]
link BuildingState to Action`1--><path d="M267.08,133.2 C256.84,152.55 244.72,172.94 233.87,188.64 " fill="none" id="BuildingState-&gt;Action`1-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="230.84,192.94,239.2876,187.8766,233.715,188.8492,232.7424,183.2766,230.84,192.94" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="264.09" y="181.9164">OnSelectionChanged&lt;SelectionResult&gt;</text><!--MD5=[b5baff613e06201a7d939f432536815a]
@startuml
abstract class BuildingState {
    + BuildingState(gridManager:GridManager, gridData:GridData, itemData:ItemData)
    + <<virtual>> HandleSelectionFinished() : void
    + <<virtual>> HandleSelectionStarted(selectedMapPosition:Vector3) : void
    + <<virtual>> HandleRotation(modifier:int) : void
    + <<virtual>> HandleSelectionChanged(selectedMapPosition:Vector3) : void
    + RefreshSelection() : void
}
class "Action`1"<T> {
}
BuildingState - -> "CurrentPlacementData" PlacementGridData
BuildingState - -> "SelectionData" SelectionData
BuildingState - -> "OnFinished<SelectionResult>" "Action`1"
BuildingState - -> "OnSelectionChanged<SelectionResult>" "Action`1"
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>